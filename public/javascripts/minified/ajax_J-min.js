window.onload=(e=>{document.querySelector(".content__wrapper--middle-middle").addEventListener("click",e=>{if(parseInt(e.target.parentElement.previousElementSibling.previousElementSibling.firstElementChild.firstElementChild.innerHTML)>=parseInt(e.target.parentElement.previousElementSibling.previousElementSibling.firstElementChild.lastElementChild.innerHTML)){let e=document.createElement("div");e.classList.add("alert","alert-warning","alert-dismissible","fade","show");let t='\n            <strong>Hats up!</strong> This lobby has no empty places left.\n            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n        ';e.innerHTML=t,document.querySelector(".content__wrapper--bottom-middle").appendChild(e)}else if(e.target.matches(".btn--join")){let t=e.target.parentElement.parentElement.dataset.id,n=localStorage.getItem("user_id"),a=localStorage.getItem("username"),l=localStorage.getItem("gamesplayed"),i=localStorage.getItem("gameswon");fetch(`/api/v1/lobby/${t}`,{method:"put",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({uid:n,username:a,gamesplayed:l,gameswon:i})}).then(e=>e.json()).then(e=>{"success"==e.status&&(window.location.href=`/lobby/${t}`)})}e.preventDefault()});e.preventDefault()});